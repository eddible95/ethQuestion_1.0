{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{elQY:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/feedback\",function(){return a(\"slje\")}])},slje:function(e,t,a){\"use strict\";a.r(t);var n=a(\"o0o1\"),s=a.n(n),i=a(\"1OyB\"),o=a(\"vuIU\"),r=a(\"JX7q\"),l=a(\"Ji7U\"),c=a(\"md7G\"),u=a(\"foSv\"),d=a(\"rePB\"),h=a(\"q1tI\"),p=a.n(h),m=a(\"xsZ3\"),g=a.n(m),f=a(\"3mGJ\"),b=a(\"aQu0\"),y=a(\"D1pA\"),S=a(\"+6Dn\"),w=a(\"MqQV\"),k=a(\"2McJ\"),v=a(\"Mt1y\"),x=a(\"yE/o\"),C=a(\"QetY\"),P=a(\"vFsZ\"),R=a(\"yZlV\"),O=a(\"TbSc\"),j=a(\"fuXp\"),T=a(\"NrgV\"),F=a(\"vRqb\"),L=a(\"UZm1\"),M=a(\"VcKe\"),A=a(\"5Yp1\"),D=a(\"oZBQ\"),N=a(\"OIDg\"),Y=a(\"XPRw\"),q=a(\"6JRj\"),J=a(\"7tmP\"),U=a(\"CFn4\"),_=a(\"ObTy\"),E=a(\"8cHP\"),Q=a(\"Ma5Y\"),V=a.n(Q),X=p.a.createElement;function Z(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var z=function(e){Object(l.a)(n,e);var t,a=(t=n,function(){var e,a=Object(u.a)(t);if(Z()){var n=Object(u.a)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return Object(c.a)(this,e)});function n(e){var t;return Object(i.a)(this,n),t=a.call(this,e),Object(d.a)(Object(r.a)(t),\"onSubmit\",(function(){var e,a,n;return s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(t.setState({loading:!0,errorMessage:\"\"}),!(Object(_.a)(t.state.like)&&Object(_.a)(t.state.usefulness)&&Object(_.a)(t.state.easy))){i.next=20;break}return i.prev=2,e=t.props.account,i.next=6,s.a.awrap(q.a.methods.getBinding(e).call());case 6:return a=i.sent,n=\"Comments provided by \"+a+\": \"+t.state.comments,i.next=10,s.a.awrap(J.a.methods.updateFeedback(t.state.like,t.state.usefulness,t.state.easy,n).send({from:e,gasPrice:\"0\"}));case 10:E.Router.pushRoute(\"/home\"),i.next=17;break;case 13:i.prev=13,i.t0=i.catch(2),\"Returned error: authentication needed: password or unlock\"==i.t0.message&&t.setState({timeout:!0}),t.setState({errorMessage:i.t0.message});case 17:t.setState({loading:!1}),i.next=22;break;case 20:t.setState({errorMessage:\"Required Field(s) Empty\"}),t.setState({loading:!1});case 22:case\"end\":return i.stop()}}),null,null,[[2,13]],Promise)})),t.state={like:\"\",usefulness:\"\",easy:\"\",comments:\"\",loading:!1,errorMessage:\"\",login:!1,resourceLoading:!0,timeout:!1,accountType:null,statistics:[]},t}return Object(o.a)(n,[{key:\"componentDidMount\",value:function(){var e,t,a,n,i;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(\"undefined\"!==typeof D.a){o.next=3;break}return this.setState({loading:!1}),o.abrupt(\"return\");case 3:if(e=!1,!this.props.isLogin){o.next=20;break}return e=!0,o.next=8,s.a.awrap(N.a.methods.getProfile(this.props.account).call());case 8:return t=o.sent,a=Object(Y.a)(t),o.next=12,s.a.awrap(a.methods.getAccountType().call());case 12:return n=0==(n=o.sent)?\"Admin\":\"User\",o.next=16,s.a.awrap(J.a.methods.getSummaryStatistics().call());case 16:i=o.sent,this.setState({login:e}),this.setState({accountType:n}),this.setState({statistics:i});case 20:this.setState({resourceLoading:!1});case 21:case\"end\":return o.stop()}}),null,this,null,Promise)}},{key:\"renderStatistic\",value:function(){var e=this.state.statistics[0],t=this.state.statistics[1],a=this.state.statistics[2],n=(this.state.statistics[3],this.state.statistics[4]),s=(this.state.statistics[5],Number(e)+Number(t));return X(f.a,null,X(b.a,{as:\"h3\",textAlign:\"center\"},X(y.a,{name:\"chart bar outline\"}),\"Summary Statistics of System\"),X(\"p\",{style:{textAlign:\"center\"}},X(\"b\",null,\"Total Rating(s):\"),\" \",s),X(S.a,{centered:!0,columns:2},X(S.a.Column,{style:{paddingLeft:\"10px\",paddingRight:\"0\",width:\"30%\"}},X(w.a,{horizontal:!0},\"Likes\")),X(S.a.Column,{style:{paddingLeft:\"0\",paddingRight:\"10px\",width:\"70%\"}},X(k.a,{color:\"green\",value:e,total:s,progress:\"percent\",precision:2,style:{margin:\"0\"}})),X(S.a.Column,{style:{paddingLeft:\"10px\",paddingRight:\"0\",width:\"30%\"}},X(w.a,{horizontal:!0},\"Useful\")),X(S.a.Column,{style:{paddingLeft:\"0\",paddingRight:\"10px\",width:\"70%\"}},X(k.a,{color:\"green\",value:a,total:s,progress:\"percent\",precision:2,style:{margin:\"0\"}})),X(S.a.Column,{style:{paddingLeft:\"10px\",paddingRight:\"0\",width:\"30%\"}},X(w.a,{horizontal:!0},\"Easy To Use\")),X(S.a.Column,{style:{paddingLeft:\"0\",paddingRight:\"10px\",width:\"70%\"}},X(k.a,{color:\"green\",value:n,total:s,progress:\"percent\",precision:2,style:{margin:\"0\"}}))))}},{key:\"render\",value:function(){var e=this;return this.state.login?X(A.a,{accountType:this.state.accountType,page:\"Feedback\"},X(v.a,{hidden:!0}),X(x.a,{style:{width:\"70vw\"}},X(f.a,{raised:!0},X(b.a,{as:\"h2\",textAlign:\"center\"},\"Collection of Feedback For System\"))),X(v.a,{hidden:!0}),X(S.a,{centered:!0},X(S.a.Column,{width:8},X(b.a,{as:\"h3\",textAlign:\"left\"},\"Please provided feedback via the Google Form below:\"),X(\"a\",{style:{display:\"table-cell\"},href:\"https://forms.gle/g4MstrdxWFLtcC6V6\",target:\"_blank\"},\"Link to Google Form\"),X(b.a,{as:\"h3\",textAlign:\"left\"},\"Do you like the system?\"),X(\"p\",null,\"Selected Choice: \",X(\"b\",null,this.state.like.toString())),X(C.a,{icon:!0,labelPosition:\"left\",color:\"green\",compact:!0,onClick:function(){e.setState({like:!0})}},X(y.a,{name:\"thumbs up outline\"}),\"Yes\"),X(C.a,{icon:!0,labelPosition:\"left\",color:\"red\",compact:!0,onClick:function(){e.setState({like:!1})}},X(y.a,{name:\"thumbs down outline\"}),\"No\"),X(b.a,{as:\"h3\",textAlign:\"left\"},\"Do you find the system useful?\"),X(\"p\",null,\"Selected Choice: \",X(\"b\",null,this.state.usefulness.toString())),X(C.a,{icon:!0,labelPosition:\"left\",color:\"green\",compact:!0,onClick:function(){e.setState({usefulness:!0})}},X(y.a,{name:\"thumbs up outline\"}),\"Yes\"),X(C.a,{icon:!0,labelPosition:\"left\",color:\"red\",compact:!0,onClick:function(){e.setState({usefulness:!1})}},X(y.a,{name:\"thumbs down outline\"}),\"No\"),X(b.a,{as:\"h3\",textAlign:\"left\"},\"Do you find the system easy to use?\"),X(\"p\",null,\"Selected Choice: \",X(\"b\",null,this.state.easy.toString())),X(C.a,{icon:!0,labelPosition:\"left\",color:\"green\",compact:!0,onClick:function(){e.setState({easy:!0})}},X(y.a,{name:\"thumbs up outline\"}),\"Yes\"),X(C.a,{icon:!0,labelPosition:\"left\",color:\"red\",compact:!0,onClick:function(){e.setState({easy:!1})}},X(y.a,{name:\"thumbs down outline\"}),\"No\"),X(b.a,{as:\"h3\",textAlign:\"left\"},\"Any suggestions for improvments or other comments?\"),X(P.a,{error:!!this.state.errorMessage,style:{marginTop:\"10px\"}},X(P.a.Field,null,X(R.a,{placeholder:\"Tell us more\",style:{width:\"100%\",height:\"20%\"},value:this.state.comments,onChange:function(t){return e.setState({comments:t.target.value})}})),X(O.a,{error:!0,header:\"Oops!\",content:this.state.errorMessage})),X(v.a,{hidden:!0}),X(j.a,{open:this.state.loading,trigger:X(C.a,{primary:!0,onClick:this.onSubmit},\"Submit Feedback\"),basic:!0,size:\"small\"},X(b.a,{content:\"Submitting Feedback\"}),X(j.a.Content,null,X(\"p\",null,\"Please wait patiently as the system submits your feedback to the blockchain. Upon successful submission, you will be redirected to the Home Page.\"),X(T.a,{active:!0,inline:\"centered\"},\"Loading\")))),X(S.a.Column,{width:4},X(F.a,{fireOnMount:!0,getWidth:Object(U.a)(this.props.isMobileFromSSR),minWidth:F.a.onlyTablet.minWidth},this.renderStatistic()))),X(M.a,{timeout:this.state.timeout})):X(A.a,{accountType:this.state.accountType},X(L.a,{loading:this.state.resourceLoading,login:this.state.login}))}}],[{key:\"getInitialProps\",value:function(e){var t,a,n;return s.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=!1,e.req&&(a=e.req.headers[\"user-agent\"],n=new g.a(a),t=!!n.mobile()),s.abrupt(\"return\",{isMobileFromSSR:t,isLogin:V()(e).login||\"\",account:V()(e).wallet||\"\"});case 3:case\"end\":return s.stop()}}),null,null,null,Promise)}}]),n}(h.Component);t.default=z}},[[\"elQY\",0,2,1,3,4,5,6,7,8,13]]]);"}