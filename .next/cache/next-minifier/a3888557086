{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{Dsvi:function(e,t,a){\"use strict\";a.r(t);var r=a(\"o0o1\"),n=a.n(r),s=a(\"1OyB\"),o=a(\"vuIU\"),i=a(\"JX7q\"),c=a(\"Ji7U\"),l=a(\"md7G\"),u=a(\"foSv\"),d=a(\"rePB\"),h=a(\"q1tI\"),p=a.n(h),f=a(\"vFsZ\"),m=a(\"3mGJ\"),g=a(\"umxb\"),y=a(\"TbSc\"),v=a(\"fuXp\"),w=a(\"QetY\"),b=a(\"aQu0\"),x=a(\"NrgV\"),k=a(\"D1pA\"),A=a(\"yE/o\"),j=a(\"Lj3F\"),O=a(\"oZBQ\"),R=(a(\"XPRw\"),a(\"OIDg\")),S=a(\"gb1n\"),P=a(\"ypsN\"),E=a(\"6JRj\"),C=a(\"8cHP\"),M=a(\"ObTy\"),B=p.a.createElement;function I(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var K=a(\"Mj39\"),T=function(e){Object(c.a)(r,e);var t,a=(t=r,function(){var e,a=Object(u.a)(t);if(I()){var r=Object(u.a)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return Object(l.a)(this,e)});function r(){var e;Object(s.a)(this,r);for(var t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return e=a.call.apply(a,[this].concat(o)),Object(d.a)(Object(i.a)(e),\"state\",{emailAddress:\"\",password:\"\",loading:!1,showKeys:!1,errorMessage:\"\"}),Object(d.a)(Object(i.a)(e),\"onSubmit\",(function(){var t,a,r,s,o,i,c;return n.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e.setState({loading:!0,errorMessage:\"\"}),l.prev=1,t=Object(M.i)(e.state.emailAddress),l.next=5,n.a.awrap(E.a.methods.emailNotExist(e.state.emailAddress).call());case 5:if(a=l.sent,!t||a){l.next=36;break}if(\"admin\"!==e.state.emailAddress){l.next=17;break}return l.next=10,n.a.awrap(O.a.eth.getAccounts());case 10:return r=l.sent,s=K.generate(e.state.password),l.next=14,n.a.awrap(R.a.methods.createAdmin(E.a._address,e.state.emailAddress,s).send({from:r[0],gasPrice:\"0\"}));case 14:document.cookie=\"wallet=\".concat(r[0],\"; path=/\"),l.next=32;break;case 17:return l.next=19,n.a.awrap(O.a.eth.accounts.create());case 19:return o=l.sent,i=K.generate(e.state.password),l.next=23,n.a.awrap(O.a.eth.personal.importRawKey(o.privateKey.slice(2),e.state.password));case 23:return l.next=25,n.a.awrap(O.a.eth.personal.unlockAccount(o.address,e.state.password,3600));case 25:return c=Object(M.d)(\"Credited 10 EQT(s) for first time User\"),l.next=28,n.a.awrap(P.a.methods);case 28:return l.next=30,n.a.awrap(R.a.methods.createProfile(E.a._address,e.state.emailAddress,i,S.a._address,P.a._address,c).send({from:o.address,gasPrice:\"0\"}));case 30:document.cookie=\"wallet=\".concat(o.address,\"; path=/\"),e.setState({publicKey:o.address,privateKey:o.privateKey});case 32:document.cookie=\"login=\".concat(!0,\"; path=/\"),e.setState({loading:!1,showKeys:!0}),l.next=38;break;case 36:e.setState({errorMessage:\"Invalid Email Address or Email Address Already In Used\"}),e.setState({loading:!1});case 38:l.next=44;break;case 40:l.prev=40,l.t0=l.catch(1),e.setState({errorMessage:l.t0.message}),e.setState({loading:!1});case 44:case\"end\":return l.stop()}}),null,null,[[1,40]],Promise)})),e}return Object(o.a)(r,[{key:\"componentDidMount\",value:function(){return n.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:document.cookie=\"login=\".concat(!1,\"; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT\"),document.cookie=\"wallet=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT\";case 2:case\"end\":return e.stop()}}),null,null,null,Promise)}},{key:\"renderForm\",value:function(){var e=this;return B(f.a,{error:!!this.state.errorMessage},B(m.a,{raised:!0,textAlign:\"center\"},\"This will create a password-protected account using your NTU email address and have it linked to cryptocurrency wallet created by the system.\"),B(f.a.Field,null,B(\"label\",null,\"NTU Student Email Address\"),B(g.a,{placeholder:\"example@e.ntu.edu.sg\",value:this.state.emailAddress,onChange:function(t){return e.setState({emailAddress:t.target.value})}})),B(f.a.Field,null,B(\"label\",null,\"Password\"),B(g.a,{placeholder:\"Password\",type:\"password\",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})),B(y.a,{error:!0,header:\"Oops!\",content:this.state.errorMessage}),B(v.a,{open:this.state.loading,trigger:B(w.a,{primary:!0,onClick:this.onSubmit},\"Register\"),basic:!0,size:\"small\"},B(b.a,{content:\"Registering Your Email Address\"}),B(v.a.Content,null,B(\"p\",null,\"Creating of password-protected account. Please wait...\"),B(x.a,{active:!0,inline:\"centered\"},\"Registering Your Email\"))),B(v.a,{open:this.state.showKeys,basic:!0,size:\"small\"},B(b.a,{content:\"Wallet Information\"}),B(v.a.Content,null,\"WARNING: Never reveal your private key to anyone. These keys will be required for future access to your wallet, please have it recorded down.\",B(\"p\",null,\"Public Key: \",this.state.publicKey),B(\"p\",null,\"Private Key: \",this.state.privateKey)),B(v.a.Actions,null,B(w.a,{color:\"green\",onClick:function(){return C.Router.pushRoute(\"/home\")}},B(k.a,{name:\"checkmark\"}),\" Okay\"))),B(w.a,{primary:!0,onClick:function(){return C.Router.pushRoute(\"/\")}},\"Go Back\"))}},{key:\"render\",value:function(){return B(j.a,null,B(A.a,{style:{height:\"100vh\"}},this.renderForm()))}}]),r}(h.Component);t.default=T},Lj3F:function(e,t,a){\"use strict\";var r=a(\"q1tI\"),n=a.n(r),s=a(\"8Kt/\"),o=a.n(s),i=a(\"Mt1y\"),c=a(\"3mGJ\"),l=a(\"yE/o\"),u=a(\"aQu0\"),d=a(\"D1pA\"),h=a(\"1OyB\"),p=a(\"vuIU\"),f=a(\"Ji7U\"),m=a(\"md7G\"),g=a(\"foSv\"),y=(a(\"8cHP\"),n.a.createElement);function v(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var w=function(e){Object(f.a)(r,e);var t,a=(t=r,function(){var e,a=Object(g.a)(t);if(v()){var r=Object(g.a)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return Object(m.a)(this,e)});function r(){return Object(h.a)(this,r),a.apply(this,arguments)}return Object(p.a)(r,[{key:\"render\",value:function(){return y(n.a.Fragment,null,y(c.a,{inverted:!0,style:{marginBottom:\"0px\",fontSize:\"20px\",borderRadius:\"0px\",border:\"0px\"},as:\"h1\",textAlign:\"center\"},y(d.a,{name:\"ethereum\"}),\"Block-Chain Based Question Answering System\"),y(i.a,{hidden:!0}))}}]),r}(r.Component),b=n.a.createElement;t.a=function(e){return b(n.a.Fragment,null,b(o.a,null,b(\"link\",{rel:\"stylesheet\",href:\"//cdn.jsdelivr.net/npm/semantic-ui@2.4.1/dist/semantic.min.css\"}),b(\"link\",{rel:\"shortcut icon\",href:\"/static/ethIcon.ico\"}),b(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1.0\"}),b(\"title\",null,\"Block-Chain Based Question Answering System\")),b(w,null),e.children,b(i.a,{hidden:!0}),b(c.a,{inverted:!0,vertical:!0,style:{position:\"relative\",bottom:\"0\"}},b(l.a,null,b(u.a,{as:\"h4\",inverted:!0,textAlign:\"center\"},b(d.a,{name:\"ethereum\"}),\"Block-Chain Based Question Answering System\"),b(\"p\",{style:{textAlign:\"center\"}},\"A Final Year Project | Powered by Ethereum | Created Using React JS\"))))}},Mj39:function(e,t,a){var r=a(\"HEbw\"),n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",s=n.length;function o(e,t,a,n){n=n||1;try{for(var s=a,o=0;o<n;++o)s=r.createHmac(e,t).update(s).digest(\"hex\");return e+\"$\"+t+\"$\"+n+\"$\"+s}catch(i){throw new Error(\"Invalid message digest algorithm\")}}e.exports.generate=function(e,t){if(\"string\"!=typeof e)throw new Error(\"Invalid password\");t||(t={}),t.algorithm||(t.algorithm=\"sha1\"),t.saltLength||0==t.saltLength||(t.saltLength=8),t.iterations||(t.iterations=1);var a=function(e){if(\"number\"!=typeof e||e<=0||e!==parseInt(e,10))throw new Error(\"Invalid salt length\");if(r.randomBytes)return r.randomBytes(Math.ceil(e/2)).toString(\"hex\").substring(0,e);for(var t=0,a=\"\";t<e;t++)a+=n.charAt(Math.floor(Math.random()*s));return a}(t.saltLength);return o(t.algorithm,a,e,t.iterations)},e.exports.verify=function(e,t){if(!e||!t)return!1;var a=(t=function(e){var t=e.split(\"$\");return 3===t.length&&(t.splice(2,0,1),e=t.join(\"$\")),e}(t)).split(\"$\");if(4!=a.length)return!1;try{return o(a[0],a[1],e,a[2])==t}catch(r){}return!1},e.exports.isHashed=function(e){return!!e&&4==e.split(\"$\").length}},\"c05+\":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/register\",function(){return a(\"Dsvi\")}])}},[[\"c05+\",0,2,1,3,4,5,7,9,10]]]);"}