{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n// Ensure jsPDF does not import on Server Side\nvar jsPDF = null;\n\nif (typeof window !== \"undefined\") {\n  import(\"jspdf\").then(function (module) {\n    jsPDF = module.default;\n  });\n}\n\nvar exportQuestion =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(summary, answerList) {\n    var lMargin, rMargin, pdfInMM, doc, questionTitle, lines, j, i, answer, pageCount;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // Initialise the PDF document to write\n            lMargin = 15; //left margin in mm\n\n            rMargin = 15; //right margin in mm\n\n            pdfInMM = 210; // width of A4 in mm\n\n            doc = new jsPDF(\"p\", \"mm\", \"a4\"); // Question Information\n\n            questionTitle = \"Question: \" + summary[1];\n            doc.setFontSize(18);\n            doc.text(lMargin, 40, \"Question Information\");\n            doc.setLineWidth(0.2);\n            doc.line(lMargin, 42, 195, 42);\n            lines = doc.splitTextToSize(questionTitle, pdfInMM - lMargin - rMargin);\n            doc.setFontSize(13);\n            doc.text(lMargin, 45, lines); // If images are uploaded\n\n            if (summary[5].length != 0) {\n              summary[6].map(function (imageName, index) {\n                var link = \"https://ipfs.io/ipfs/\" + summary[5][index];\n                doc.text(lMargin, 40 + lines.length + 15, \"Link(s) of Image(s) Uploaded For Question:\");\n                lines = doc.splitTextToSize(link, pdfInMM - lMargin - rMargin);\n                doc.text(lMargin, 45, lines);\n              });\n              doc.setLineWidth(0.5);\n              doc.line(lMargin, 40 + lines.length + 35, 195, 40 + lines.length + 35);\n              doc.text(lMargin, 40 + lines.length + 45, \"Answers:\");\n            } else {\n              doc.text(lMargin, 40 + lines.length + 15, \"Answers:\");\n            }\n\n            j = 75;\n\n            for (i = 0; i < answerList.length; i++) {\n              answer = \"(\" + (i + 1) + \") \" + answerList[i][0];\n              lines = doc.splitTextToSize(answer, pdfInMM - lMargin - rMargin); // Creates a new page for every 10 answers\n\n              if (i % 10 == 0 && i != 0) {\n                doc.addPage();\n                j = 40;\n              }\n\n              doc.text(lMargin, j, lines);\n              j = j + 10;\n            }\n\n            pageCount = doc.internal.getNumberOfPages();\n            doc = createFooter(doc, pageCount);\n            doc = createHeader(doc, pageCount);\n            doc.save(\"Answer.pdf\");\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function exportQuestion(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar createHeader = function createHeader(document, pageCount) {\n  for (var i = 0; i < pageCount; i++) {\n    document.setPage(i);\n    document.setTextColor(0);\n    document.setFontSize(24);\n    document.text(15, 30, \"Ethereum Question & Answering System\");\n    document.setLineWidth(0.5);\n    document.line(15, 33, 190, 33);\n  }\n\n  return document;\n};\n\nvar createFooter = function createFooter(document, pageCount) {\n  for (var i = 0; i < pageCount; i++) {\n    document.setPage(i);\n    document.setFontSize(13);\n    document.setTextColor(150);\n    document.text(170, 285, \"Page \" + document.internal.getCurrentPageInfo().pageNumber + \" of \" + pageCount);\n  }\n\n  return document;\n};\n\nexport { exportQuestion };","map":{"version":3,"sources":["C:\\Users\\edd1e\\Desktop\\ethQuestion\\utils\\pdf.js"],"names":["jsPDF","window","then","module","default","exportQuestion","summary","answerList","lMargin","rMargin","pdfInMM","doc","questionTitle","setFontSize","text","setLineWidth","line","lines","splitTextToSize","length","map","imageName","index","link","j","i","answer","addPage","pageCount","internal","getNumberOfPages","createFooter","createHeader","save","document","setPage","setTextColor","getCurrentPageInfo","pageNumber"],"mappings":";;AAAA;AACA,IAAIA,KAAK,GAAG,IAAZ;;AACA,IAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AACjC,SAAO,OAAP,EAAgBC,IAAhB,CAAqB,UAAAC,MAAM,EAAI;AAC7BH,IAAAA,KAAK,GAAGG,MAAM,CAACC,OAAf;AACD,GAFD;AAGD;;AAED,IAAMC,cAAc;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,iBAAMC,OAAN,EAAeC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACrB;AACIC,YAAAA,OAFiB,GAET,EAFS,EAEL;;AACZC,YAAAA,OAHiB,GAGT,EAHS,EAGL;;AACZC,YAAAA,OAJiB,GAIT,GAJS,EAIH;;AACdC,YAAAA,GALiB,GAKX,IAAIX,KAAJ,CAAU,GAAV,EAAc,IAAd,EAAmB,IAAnB,CALW,EAOrB;;AACIY,YAAAA,aARiB,GAQD,eAAeN,OAAO,CAAC,CAAD,CARrB;AASrBK,YAAAA,GAAG,CAACE,WAAJ,CAAgB,EAAhB;AACAF,YAAAA,GAAG,CAACG,IAAJ,CAASN,OAAT,EAAkB,EAAlB,EAAsB,sBAAtB;AACAG,YAAAA,GAAG,CAACI,YAAJ,CAAiB,GAAjB;AACAJ,YAAAA,GAAG,CAACK,IAAJ,CAASR,OAAT,EAAkB,EAAlB,EAAsB,GAAtB,EAA2B,EAA3B;AAEIS,YAAAA,KAdiB,GAcTN,GAAG,CAACO,eAAJ,CAAoBN,aAApB,EAAoCF,OAAO,GAACF,OAAR,GAAgBC,OAApD,CAdS;AAerBE,YAAAA,GAAG,CAACE,WAAJ,CAAgB,EAAhB;AACAF,YAAAA,GAAG,CAACG,IAAJ,CAASN,OAAT,EAAkB,EAAlB,EAAsBS,KAAtB,EAhBqB,CAkBrB;;AACA,gBAAIX,OAAO,CAAC,CAAD,CAAP,CAAWa,MAAX,IAAqB,CAAzB,EAA4B;AACxBb,cAAAA,OAAO,CAAC,CAAD,CAAP,CAAWc,GAAX,CAAe,UAACC,SAAD,EAAYC,KAAZ,EAAsB;AACnC,oBAAIC,IAAI,GAAG,0BAAwBjB,OAAO,CAAC,CAAD,CAAP,CAAWgB,KAAX,CAAnC;AACAX,gBAAAA,GAAG,CAACG,IAAJ,CAASN,OAAT,EAAkB,KAAGS,KAAK,CAACE,MAAT,GAAgB,EAAlC,EAAsC,4CAAtC;AACAF,gBAAAA,KAAK,GAAGN,GAAG,CAACO,eAAJ,CAAoBK,IAApB,EAA2Bb,OAAO,GAACF,OAAR,GAAgBC,OAA3C,CAAR;AACAE,gBAAAA,GAAG,CAACG,IAAJ,CAASN,OAAT,EAAiB,EAAjB,EAAoBS,KAApB;AACD,eALD;AAMAN,cAAAA,GAAG,CAACI,YAAJ,CAAiB,GAAjB;AACAJ,cAAAA,GAAG,CAACK,IAAJ,CAASR,OAAT,EAAkB,KAAGS,KAAK,CAACE,MAAT,GAAgB,EAAlC,EAAsC,GAAtC,EAA2C,KAAGF,KAAK,CAACE,MAAT,GAAgB,EAA3D;AACAR,cAAAA,GAAG,CAACG,IAAJ,CAASN,OAAT,EAAkB,KAAGS,KAAK,CAACE,MAAT,GAAgB,EAAlC,EAAsC,UAAtC;AACH,aAVD,MAUO;AACLR,cAAAA,GAAG,CAACG,IAAJ,CAASN,OAAT,EAAkB,KAAGS,KAAK,CAACE,MAAT,GAAgB,EAAlC,EAAsC,UAAtC;AACD;;AACGK,YAAAA,CAhCiB,GAgCb,EAhCa;;AAiCrB,iBAASC,CAAT,GAAa,CAAb,EAAgBA,CAAC,GAAGlB,UAAU,CAACY,MAA/B,EAAuCM,CAAC,EAAxC,EAA4C;AACtCC,cAAAA,MADsC,GAC7B,OAAOD,CAAC,GAAC,CAAT,IAAc,IAAd,GAAqBlB,UAAU,CAACkB,CAAD,CAAV,CAAc,CAAd,CADQ;AAE1CR,cAAAA,KAAK,GAAGN,GAAG,CAACO,eAAJ,CAAoBQ,MAApB,EAA6BhB,OAAO,GAACF,OAAR,GAAgBC,OAA7C,CAAR,CAF0C,CAG1C;;AACA,kBAAIgB,CAAC,GAAG,EAAJ,IAAU,CAAV,IAAeA,CAAC,IAAI,CAAxB,EAA2B;AACzBd,gBAAAA,GAAG,CAACgB,OAAJ;AACAH,gBAAAA,CAAC,GAAG,EAAJ;AACD;;AACDb,cAAAA,GAAG,CAACG,IAAJ,CAASN,OAAT,EAAkBgB,CAAlB,EAAqBP,KAArB;AACAO,cAAAA,CAAC,GAAGA,CAAC,GAAG,EAAR;AACD;;AACGI,YAAAA,SA5CiB,GA4CLjB,GAAG,CAACkB,QAAJ,CAAaC,gBAAb,EA5CK;AA6CrBnB,YAAAA,GAAG,GAAGoB,YAAY,CAACpB,GAAD,EAAMiB,SAAN,CAAlB;AACAjB,YAAAA,GAAG,GAAGqB,YAAY,CAACrB,GAAD,EAAMiB,SAAN,CAAlB;AACAjB,YAAAA,GAAG,CAACsB,IAAJ,CAAS,YAAT;;AA/CqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAd5B,cAAc;AAAA;AAAA;AAAA,GAApB;;AAkDA,IAAM2B,YAAY,GAAG,SAAfA,YAAe,CAACE,QAAD,EAAWN,SAAX,EAAyB;AAC5C,OAAI,IAAIH,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGG,SAAnB,EAA8BH,CAAC,EAA/B,EAAmC;AACjCS,IAAAA,QAAQ,CAACC,OAAT,CAAiBV,CAAjB;AACAS,IAAAA,QAAQ,CAACE,YAAT,CAAsB,CAAtB;AACAF,IAAAA,QAAQ,CAACrB,WAAT,CAAqB,EAArB;AACAqB,IAAAA,QAAQ,CAACpB,IAAT,CAAc,EAAd,EAAkB,EAAlB,EAAsB,sCAAtB;AACAoB,IAAAA,QAAQ,CAACnB,YAAT,CAAsB,GAAtB;AACAmB,IAAAA,QAAQ,CAAClB,IAAT,CAAc,EAAd,EAAkB,EAAlB,EAAsB,GAAtB,EAA2B,EAA3B;AACD;;AACD,SAAOkB,QAAP;AACD,CAVD;;AAYA,IAAMH,YAAY,GAAG,SAAfA,YAAe,CAACG,QAAD,EAAWN,SAAX,EAAyB;AAC5C,OAAI,IAAIH,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGG,SAAnB,EAA8BH,CAAC,EAA/B,EAAmC;AACjCS,IAAAA,QAAQ,CAACC,OAAT,CAAiBV,CAAjB;AACAS,IAAAA,QAAQ,CAACrB,WAAT,CAAqB,EAArB;AACAqB,IAAAA,QAAQ,CAACE,YAAT,CAAsB,GAAtB;AACAF,IAAAA,QAAQ,CAACpB,IAAT,CAAc,GAAd,EAAmB,GAAnB,EAAwB,UAAUoB,QAAQ,CAACL,QAAT,CAAkBQ,kBAAlB,GAAuCC,UAAjD,GAA8D,MAA9D,GAAuEV,SAA/F;AACD;;AACD,SAAOM,QAAP;AACD,CARD;;AAUA,SAAS7B,cAAT","sourcesContent":["// Ensure jsPDF does not import on Server Side\r\nlet jsPDF = null;\r\nif (typeof window !== \"undefined\") {\r\n  import(\"jspdf\").then(module => {\r\n    jsPDF = module.default;\r\n  });\r\n}\r\n\r\nconst exportQuestion = async(summary, answerList) => {\r\n  // Initialise the PDF document to write\r\n  let lMargin=15; //left margin in mm\r\n  let rMargin=15; //right margin in mm\r\n  let pdfInMM=210;  // width of A4 in mm\r\n  let doc = new jsPDF(\"p\",\"mm\",\"a4\");\r\n\r\n  // Question Information\r\n  let questionTitle = \"Question: \" + summary[1];\r\n  doc.setFontSize(18)\r\n  doc.text(lMargin, 40, \"Question Information\");\r\n  doc.setLineWidth(0.2)\r\n  doc.line(lMargin, 42, 195, 42)\r\n\r\n  let lines = doc.splitTextToSize(questionTitle, (pdfInMM-lMargin-rMargin));\r\n  doc.setFontSize(13)\r\n  doc.text(lMargin, 45, lines);\r\n\r\n  // If images are uploaded\r\n  if (summary[5].length != 0) {\r\n      summary[6].map((imageName, index) => {\r\n        let link = \"https://ipfs.io/ipfs/\"+summary[5][index]\r\n        doc.text(lMargin, 40+lines.length+15, \"Link(s) of Image(s) Uploaded For Question:\")\r\n        lines = doc.splitTextToSize(link, (pdfInMM-lMargin-rMargin));\r\n        doc.text(lMargin,45,lines);\r\n      })\r\n      doc.setLineWidth(0.5)\r\n      doc.line(lMargin, 40+lines.length+35, 195, 40+lines.length+35)\r\n      doc.text(lMargin, 40+lines.length+45, \"Answers:\");\r\n  } else {\r\n    doc.text(lMargin, 40+lines.length+15, \"Answers:\");\r\n  }\r\n  let j = 75;\r\n  for (let i = 0; i < answerList.length; i++) {\r\n    let answer = \"(\" + (i+1) + \") \" + answerList[i][0];\r\n    lines = doc.splitTextToSize(answer, (pdfInMM-lMargin-rMargin));\r\n    // Creates a new page for every 10 answers\r\n    if (i % 10 == 0 && i != 0) {\r\n      doc.addPage();\r\n      j = 40;\r\n    }\r\n    doc.text(lMargin, j, lines);\r\n    j = j + 10;\r\n  }\r\n  let pageCount = doc.internal.getNumberOfPages();\r\n  doc = createFooter(doc, pageCount);\r\n  doc = createHeader(doc, pageCount);\r\n  doc.save(\"Answer.pdf\");\r\n}\r\n\r\nconst createHeader = (document, pageCount) => {\r\n  for(let i = 0; i < pageCount; i++) {\r\n    document.setPage(i)\r\n    document.setTextColor(0)\r\n    document.setFontSize(24)\r\n    document.text(15, 30, \"Ethereum Question & Answering System\");\r\n    document.setLineWidth(0.5)\r\n    document.line(15, 33, 190, 33)\r\n  }\r\n  return document\r\n}\r\n\r\nconst createFooter = (document, pageCount) => {\r\n  for(let i = 0; i < pageCount; i++) {\r\n    document.setPage(i)\r\n    document.setFontSize(13)\r\n    document.setTextColor(150)\r\n    document.text(170, 285, \"Page \" + document.internal.getCurrentPageInfo().pageNumber + \" of \" + pageCount)\r\n  }\r\n  return document\r\n}\r\n\r\nexport { exportQuestion }\r\n"]},"metadata":{},"sourceType":"module"}